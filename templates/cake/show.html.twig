{% extends 'base.html.twig' %}

{% block content %}
    <section class="container">
        <article>
            <h1>{{ cake.name }}</h1>
            <a class="btn btn-light" href="{{ path('app_cake_list') }}"> &crarr; Back to list</a>
            <div class="media">
                <img class="d-flex align-self-start mr-3" src="{{ cake.image }}" alt="{{ cake.name }}" style="height:500px">
                <div class="media-body">
                    <p><button class="btn btn-primary">{{ 'Purchase for %price%'|trans({'%price%': cake.price}) }}</button></p>
                    <p>
                        {% for category in cake.categories %}
                            <span class="badge badge-secondary">{{ category.name }}</span>
                        {% endfor %}
                    </p>
                    <p>{{ cake.description }}</p>
                    {% if is_granted('VIEW', cake) %}
                        <h1>You're allowed</h1>
                        {% else %}
                        <h1>You're not allowed</h1>
                    {% endif %}
                </div>
            </div>
        </article>
    </section>
{% endblock %}
